<%- include('../partials/head') %>
<%- include('../partials/header') %>

<% if (locals.successMessage1) { %>
    <div class="successMessage">
        <i class="fa-solid fa-check"></i>
        <p><%= successMessage1 %></p>
    </div>
<% } %>

<h1 class="title1">Asignar Tokens</h1>

    <div class="divAssignationNote">
        <% if ((notAssignedAdm.length + notAssignedTeacher.length + notAssignedStudent.length) !=0 ) { %>
            <div class="pAssignationNote"><i class="fa-solid fa-triangle-exclamation"></i> Tiene para asignar un total de <%= notAssignedAdm.length + notAssignedTeacher.length + notAssignedStudent.length%> licencias a distribuir de la siguiente manera:</div>
            <div>Licencias de Administrador: <%= notAssignedAdm.length %></div>
            <div>Licencias de Profesor: <%= notAssignedTeacher.length %></div>
            <div>Licencias de Alumno: <%= notAssignedStudent.length %></div>
        <% } %>
        <% if ((notAssignedAdm.length + notAssignedTeacher.length + notAssignedStudent.length) ==0 ) { %>
            <div class="pAssignationNote"><i class="fa-solid fa-triangle-exclamation"></i> No posee licencias pendientes de asignación.</div>
        <% } %>
    </div>

    <form action="/tokens/assignation" enctype="multipart/form-data" method="POST" name="formAssignTokens" class="form1">
        <div class="divFile">
            <div class="divUploadFile <%= locals.errors && errors.fileAssignStudents ? 'isInvalid' : null %>">
                <i class="fa-solid fa-file-excel"></i>
                <input type="file" name="fileAssignTokens" class="uploadFile">
            </div>
            <div class="divError">
                <% if (locals.errors && errors.fileAssignStudents) { %>
                    <%= errors.fileAssignStudents.msg %> 
                <% } %>
            </div>
            <div class="divAssignationFileNote">
                <p class="pAssignationFileNote"><i class="fa-solid fa-circle-info"></i> Para asignar tokens suba un archivo en formato .xls, xlsx ó xlsm. <br> El mismo debe contar con cinco columnas, sin títulos, según el siguiente ejemplo*:</p>
                <img src="/images/xlsExample2.jpg" alt="Ejemplo .xls asignar alumnos" class="xlsExample2">
                <p class="pAssignationFileNote">*No se admiten campos vacíos.</p>
            </div>  

        </div>
        <div class="divButtons1">
            <input type="submit" value="Asignar" class="button1">
            <input type="button" value="Cancelar" onclick="window.location.href='/users/profile'" class="button1">
        </div>
    </form>


<%- include('../partials/footer') %>

